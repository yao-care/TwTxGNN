---
layout: default
title: ğŸ“° å¥åº·æ–°è
nav_order: 3
description: "è‡ªå‹•ç›£æ¸¬ 191 ç¨®è—¥ç‰©èˆ‡é©æ‡‰ç—‡çš„æœ€æ–°å¥åº·æ–°èå ±å°ï¼Œé€£çµåˆ°è—¥ç‰©å ±å‘Šé é¢ã€‚"
permalink: /news/
---

# ğŸ“° å¥åº·æ–°èç›£æ¸¬

<p class="key-answer" data-question="TwTxGNN å¥åº·æ–°èç›£æ¸¬æ˜¯ä»€éº¼ï¼Ÿ">
<strong>è‡ªå‹•è¿½è¹¤ 191 ç¨®è—¥ç‰©èˆ‡é©æ‡‰ç—‡çš„æœ€æ–°å ±å°</strong>ï¼Œç•¶æ–°èæåˆ° TwTxGNN è³‡æ–™åº«ä¸­çš„è—¥ç‰©æˆ–é©æ‡‰ç—‡æ™‚ï¼Œç³»çµ±æœƒè‡ªå‹•æ”¶é›†ä¸¦æ•´ç†ï¼Œæä¾›å¿«é€Ÿé€£çµåˆ°å°æ‡‰çš„è—¥ç‰©å ±å‘Šé é¢ã€‚
</p>

---

## æœ€æ–°æ–°è

<div id="news-list">
<p>æ­£åœ¨è¼‰å…¥æ–°è...</p>
</div>

---

## ç†±é–€é—œéµå­—

<div id="keyword-cloud">
<p>æ­£åœ¨è¼‰å…¥é—œéµå­—...</p>
</div>

---

## ç€è¦½æ‰€æœ‰è—¥ç‰©

<p>é»æ“Šè—¥ç‰©åç¨±æŸ¥çœ‹ç›¸é—œæ–°èå ±å°ï¼š</p>

<div id="drug-list">
<p>æ­£åœ¨è¼‰å…¥è—¥ç‰©æ¸…å–®...</p>
</div>

---

<div class="disclaimer">
<strong>å…è²¬è²æ˜</strong><br>
æœ¬é æ–°èç”±ç³»çµ±è‡ªå‹•æ”¶é›†ï¼Œ<strong>åƒ…ä¾›ç ”ç©¶åƒè€ƒ</strong>ï¼Œä¸æ§‹æˆé†«ç™‚å»ºè­°ã€‚æ–°èå…§å®¹ä¾†è‡ªå„åª’é«”ï¼ŒTwTxGNN ä¸å°æ–°èå…§å®¹è² è²¬ã€‚è—¥ç‰©ä½¿ç”¨è«‹éµå¾ªé†«å¸«æŒ‡ç¤ºã€‚
<br><br>
<small>è³‡æ–™ä¾†æºï¼šGoogle Newsã€å˜‰ç¾©æ…ˆæ¿Ÿé†«é™¢ | æ›´æ–°é »ç‡ï¼šæ¯å°æ™‚</small>
</div>

<style>
.news-card {
  border: 1px solid #e1e4e8;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 16px;
  background: #fff;
}

.news-card:hover {
  border-color: #0366d6;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.news-title {
  font-size: 1.1em;
  font-weight: 600;
  margin-bottom: 8px;
  color: #24292e;
}

.news-meta {
  font-size: 0.85em;
  color: #586069;
  margin-bottom: 8px;
}

.news-sources {
  font-size: 0.85em;
}

.news-sources a {
  color: #0366d6;
  margin-right: 8px;
}

.news-keywords {
  margin-top: 8px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
}

.keyword-tag {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 14px;
  font-size: 0.85em;
  text-decoration: none;
  white-space: nowrap;
}

.keyword-drug {
  background: #e3f2fd;
  color: #1565c0;
}

.keyword-indication {
  background: #f3e5f5;
  color: #7b1fa2;
}

.keyword-cloud-item {
  display: inline-block;
  padding: 4px 12px;
  margin: 4px;
  border-radius: 16px;
  background: #f0f0f0;
  color: #333;
  text-decoration: none;
  font-size: 0.9em;
}

.keyword-cloud-item:hover {
  background: #e0e0e0;
}

.no-news {
  text-align: center;
  padding: 40px;
  color: #586069;
}

.drug-list-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 8px;
  margin-top: 16px;
}

.drug-list-item {
  display: block;
  padding: 8px 12px;
  background: #f6f8fa;
  border-radius: 6px;
  text-decoration: none;
  color: #24292e;
  font-size: 0.9em;
  transition: background 0.2s;
}

.drug-list-item:hover {
  background: #e1e4e8;
  text-decoration: none;
}

.drug-list-item.has-news {
  background: #e3f2fd;
  color: #1565c0;
}

.drug-list-item.has-news:hover {
  background: #bbdefb;
}
</style>

<script>
// å°‡åç¨±è½‰æ›ç‚º URL slugï¼ˆèˆ‡ Python ç‰ˆæœ¬ä¸€è‡´ï¼‰
function slugify(text) {
  return text.toLowerCase()
    .replace(/[\s_]+/g, '-')              // ç©ºæ ¼å’Œåº•ç·šè½‰æ›ç‚ºé€£å­—è™Ÿ
    .replace(/[^\w\u4e00-\u9fff-]/g, '')  // ç§»é™¤ç‰¹æ®Šå­—å…ƒ
    .replace(/-+/g, '-')                   // å¤šå€‹é€£å­—è™Ÿåˆä½µ
    .replace(/^-|-$/g, '');                // ç§»é™¤é¦–å°¾é€£å­—è™Ÿ
}

document.addEventListener('DOMContentLoaded', function() {
  // è¼‰å…¥æ–°èç´¢å¼•
  fetch('{{ "/data/news-index.json" | relative_url }}')
    .then(response => response.json())
    .then(data => {
      renderNews(data.news);
      renderKeywordCloud(data.news);
      // è¼‰å…¥è—¥ç‰©æ¸…å–®
      loadDrugList(data.news);
    })
    .catch(err => {
      console.error('è¼‰å…¥æ–°èå¤±æ•—:', err);
      document.getElementById('news-list').innerHTML =
        '<p class="no-news">ç„¡æ³•è¼‰å…¥æ–°èè³‡æ–™</p>';
    });
});

function loadDrugList(newsItems) {
  fetch('{{ "/data/drugs.json" | relative_url }}')
    .then(response => response.json())
    .then(data => {
      // æ‰¾å‡ºæœ‰æ–°èçš„è—¥ç‰©
      const drugsWithNews = new Set();
      if (newsItems) {
        newsItems.forEach(item => {
          if (item.keywords) {
            item.keywords.forEach(k => {
              if (k.type === 'drug' && k.slug) {
                drugsWithNews.add(k.slug);
              }
            });
          }
        });
      }
      renderDrugList(data.drugs, drugsWithNews);
    })
    .catch(err => {
      console.error('è¼‰å…¥è—¥ç‰©æ¸…å–®å¤±æ•—:', err);
      document.getElementById('drug-list').innerHTML =
        '<p>ç„¡æ³•è¼‰å…¥è—¥ç‰©æ¸…å–®</p>';
    });
}

function renderNews(newsItems) {
  const container = document.getElementById('news-list');

  if (!newsItems || newsItems.length === 0) {
    container.innerHTML = '<p class="no-news">ç›®å‰æ²’æœ‰åŒ¹é…çš„æ–°è</p>';
    return;
  }

  // æŒ‰æ™‚é–“æ’åº
  newsItems.sort((a, b) => new Date(b.published) - new Date(a.published));

  let html = '';

  newsItems.forEach(item => {
    // æ ¼å¼åŒ–æ—¥æœŸ
    const date = new Date(item.published);
    const dateStr = date.toLocaleDateString('zh-TW', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });

    // ä¾†æºé€£çµ
    const sources = item.sources.map(s =>
      `<a href="${s.link}" target="_blank" rel="noopener">${s.name} â†—</a>`
    ).join(' ');

    // é—œéµå­—æ¨™ç±¤ï¼ˆå»é‡ï¼‰
    let keywords = '';
    const baseUrl = '{{ "/" | relative_url }}';
    if (item.keywords && item.keywords.length > 0) {
      // å»é‡ï¼šä½¿ç”¨ keyword ä½œç‚º key
      const seenKeywords = new Set();
      const uniqueKeywords = item.keywords.filter(k => {
        const key = k.keyword || k.name;
        if (seenKeywords.has(key)) return false;
        seenKeywords.add(key);
        return true;
      });

      keywords = uniqueKeywords.map(k => {
        if (k.type === 'drug') {
          return `<a href="${baseUrl}news/${k.slug}/" class="keyword-tag keyword-drug">${k.name} â†’</a>`;
        } else {
          // é©æ‡‰ç—‡ï¼šé¡¯ç¤ºé—œéµå­—åç¨±ï¼ˆé€£çµåˆ°é©æ‡‰ç—‡é é¢ï¼‰+ ç›¸é—œè—¥ç‰©é€£çµ
          const indSlug = slugify(k.name);
          const indLabel = k.keyword || k.name;
          let html = `<a href="${baseUrl}news/${indSlug}/" class="keyword-tag keyword-indication">${indLabel} â†’</a>`;
          if (k.related_drugs && k.related_drugs.length > 0) {
            const drugLinks = k.related_drugs.slice(0, 3).map(drug =>
              `<a href="${baseUrl}news/${drug.slug}/" class="keyword-tag keyword-drug">${drug.name} â†’</a>`
            ).join(' ');
            html += ' ' + drugLinks;
          }
          return html;
        }
      }).join(' ');
    }

    html += `
      <div class="news-card">
        <div class="news-title">${item.title}</div>
        <div class="news-meta">${dateStr}</div>
        <div class="news-sources">ä¾†æºï¼š${sources}</div>
        ${keywords ? `<div class="news-keywords">${keywords}</div>` : ''}
      </div>
    `;
  });

  container.innerHTML = html;
}

function renderKeywordCloud(newsItems) {
  const container = document.getElementById('keyword-cloud');

  if (!newsItems || newsItems.length === 0) {
    container.innerHTML = '<p>ç›®å‰æ²’æœ‰é—œéµå­—è³‡æ–™</p>';
    return;
  }

  // çµ±è¨ˆé—œéµå­—å‡ºç¾æ¬¡æ•¸
  const keywordCounts = {};

  newsItems.forEach(item => {
    if (item.keywords) {
      item.keywords.forEach(k => {
        const key = k.type === 'drug' ? k.slug : (k.keyword || k.name);
        const label = k.type === 'drug' ? k.name : (k.keyword || k.name);
        const slug = k.type === 'drug' ? k.slug : slugify(k.name);
        if (!keywordCounts[key]) {
          keywordCounts[key] = { label, count: 0, type: k.type, slug: slug };
        }
        keywordCounts[key].count++;
      });
    }
  });

  // è½‰æ›ç‚ºé™£åˆ—ä¸¦æ’åº
  const sortedKeywords = Object.values(keywordCounts)
    .sort((a, b) => b.count - a.count)
    .slice(0, 20);

  if (sortedKeywords.length === 0) {
    container.innerHTML = '<p>ç›®å‰æ²’æœ‰é—œéµå­—è³‡æ–™</p>';
    return;
  }

  const baseUrl = '{{ "/" | relative_url }}';
  let html = sortedKeywords.map(k => {
    return `<a href="${baseUrl}news/${k.slug}/" class="keyword-cloud-item">${k.label} (${k.count})</a>`;
  }).join('');

  container.innerHTML = html;
}

function renderDrugList(drugs, drugsWithNews) {
  const container = document.getElementById('drug-list');

  if (!drugs || drugs.length === 0) {
    container.innerHTML = '<p>ç„¡æ³•è¼‰å…¥è—¥ç‰©æ¸…å–®</p>';
    return;
  }

  // æŒ‰è—¥ç‰©åç¨±æ’åº
  drugs.sort((a, b) => a.name.localeCompare(b.name));

  const baseUrl = '{{ "/" | relative_url }}';
  let html = '<div class="drug-list-grid">';

  drugs.forEach(drug => {
    const hasNews = drugsWithNews.has(drug.slug);
    const className = hasNews ? 'drug-list-item has-news' : 'drug-list-item';
    html += `<a href="${baseUrl}news/${drug.slug}/" class="${className}">${drug.name}</a>`;
  });

  html += '</div>';
  container.innerHTML = html;
}
</script>
